syntax = "proto3";
package proxy;
import "github.com/cjongseok/mtproto/mtp/types.tl.proto";

message Update {
	oneof Value {
		mtp.PredUpdates updates = 1;
//		mtp.TypeUpdatesDifference updatesDifference = 2;
//		mtp.PredUpdateShortMessage updateShortMessage = 1;
		mtp.PredUpdatesDifference updatesDifference = 2;
	}
}

message ListenRequest {}

service UpdateStreamer {
	rpc ListenOnUpdates (ListenRequest) returns (stream Update) {}
}
